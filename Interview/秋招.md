
0. 锁控制，循环输出alialialiali,用通道发送控制信号
1. 锁机制，乐观锁，悲观锁
2. 负载均衡器，nginx，lvs，nginx除了做负载均衡还能做什么
3. go协程和线程的区别，优缺点，缺点？。。。
4. go gc，标记清除、带写屏障的并发三色标记
5. 如何定位cpu负载高的代码，如何定位cpu指针越界，内存溢出？go debug,火焰图，打桩日志分析？内存竞争有go trace???
6. 浏览器输入www.taobao.com到展示的全过程，除了网络部分，业务部分也要说，比如服务端的负载均衡
7. cookie和session
8. k8s blablabla,集群高可用，是如何保证数据一致性的？etcd锁
9. 一个大文件存储着数字，找到最大的topK,按流的形式，送到小顶堆，因为有重复数字，所以要查一下是否在堆上，不在则插入，淘汰最小，最后堆上剩下的就是topK
10. https如何保证安全的



www.baidu.com

事件顺序

(1) 浏览器获取输入的域名www.baidu.com

(2) 浏览器向DNS请求解析www.baidu.com的IP地址

(3) 域名系统DNS解析出百度服务器的IP地址

(4) 浏览器与该服务器建立TCP连接(默认端口号80)

(5) 浏览器发出HTTP请求，请求百度首页

(6) 服务器通过HTTP响应把首页文件发送给浏览器

(7) TCP连接释放

(8) 浏览器将首页文件进行解析，并将Web页显示给用户。

涉及到的协议

(1) 应用层：HTTP(WWW访问协议)，DNS(域名解析服务)

(2) 传输层：TCP(为HTTP提供可靠的数据传输)，UDP(DNS使用UDP传输)

(3) 网络层：IP(IP数据数据包传输和路由选择)，ICMP(提供网络传输过程中的差错检测)，ARP(将本机的默认网关IP地址映射成物理MAC地址)



---
git部门

补码、反码，溢出

go string字符串前缀问题；

go如何实现继承、多态

go变量声明为指针，类似方法中使用主体使用指针，是为了什么

git commit id用40个16机制数，怎么用正则表达式过滤

go mod使用过没

ip保留地址

linux shell如何匹配变量，比如变量开头为ABC*,怎么过滤选中

如何获得git当前提交位置，git log ，除了命令还能怎么办？查看.git文件

淘宝：

区块链共识介绍一下raft、pbft、kafka、pow共识，对区块链介绍  
比特币真的匿名吗？
区块链怎么实现可靠性的，你们的项目成果
k8s介绍，组件，功能，创建pod流程，  
你做的难度比较高的项目，  
c++多态怎么实现的
数据库索引
tcp udp区别，tcp如何保证可靠性的  
http https  
iso七层、五层
快速排序介绍一下、时间复杂度、最坏情况
除了k8s，你还了解哪些关于云原生的，istio、普罗米修斯、etcd、服务网格（这个是面试官说的）
算法，一个长度为n的数组，求和为m的所有组合数量

最后，面试官说聊的挺嗨的，面试、评级什么的应该都没问题，等小姐姐联系

---
商汤工程院-容器云平台

共两面：
etcd 3个节点和5个节点哪个好  
k8s网络、docker网络模型，veth-pair
k8s调度模型、算法，硬性过滤+软性打分
k8s HA，pod HA
statefulset介绍、复杂在哪里，
k8s组件出现问题了，怎么定位，如果没有日志又怎么定位
trace命令
过滤某一行某一列 grep + awk  
k8s pod创建过程  
k8s外部组件和k8s内部如何通信
kube-apiserver resrful风格，post 和put区别 

cpu占用百分比你怎么理解 

go gc
go 调度模型  

tcp udp区别

算法：特别大的数组，如何找到topK，用k大小的堆就可以了，简单排序比较满  
算法：写个10并发协程 按序输出123456789

老板面：没怎么问问题，一直是他在介绍工程院和他的部门，告诉我前两个面试结果都很好，问我有什么想法、什么时候可以实习，也了解到它们k8s平台正在做，再过两个月出第一个版本，我对这个比较感兴趣，我觉能够共同成长，最后加了微信

---
美团平台开发：
k8s stateful介绍下，复杂在哪里，
自己项目介绍、难点介绍
也是在做k8s容器云，时间比较久了忘了都问啥了，也主要是k8s


---
Java实现一个栈，要求栈的有以下四个操作，时间复杂度都是o(1)
1. pop
2. push
3. getMaxValue()
4. deleteMaxValue（）

```cpp
#include <iostream>
using namespace std;
int data[1024];
int max[1024];
int size=0;
int push(int v){
    data[size]=v;
    if(size==0){
        max[size]=0;//max记录最大值的下标
    }else{
        if(data[size]>data[max[size-1]]){
            max[size]=size;
        }else{
            max[size]=max[size-1];
        }
    }
    size++;      
}
void pop(){
    if(size>0){
        size--
    }
}
int getMaxValue(){
    if(size<0)return -1;//?
    return max[size];
}
void deleteMaxValue(){
    if(size<0)return;
    for(int i=max[size];i<size;i++){
        data[i]=data[i+1];
        if(max[size-1]>max[i+1])max[i]=max[size-1];//判断max[size]之前的是否最大   ？考虑最大值存指针；后边还需要更新吗？
    }
    size--;
}

int main() {
    push(1);
    push(2);
    push(5);
    push(4);
    cout<<getMaxValue()<<endl;
    deleteMaxValue();
    cout<<getMaxValue()<<endl;
    return 0;
}
```

fork之后子父进程之间的内存关系，是复制过来的吗？

c++线程的锁有哪些？多个线程访问一个变量，如何保证线程安全？

c++ map有哪几种？hash和红黑树，如何实现一个range查询，

c++ 多态介绍下，怎么使用

c++怎么实现父类对象调用子类对象的？虚函数列表


tcp三次握手、四次挥手

你用k8s做什么？

k8s中daemonSet和statefulSet，Stateful为什么比较复杂，增加一个机器，再启动一个stateful的应用，怎么处理？

实习的工作内容？你做过的什么任务？

线程间的内存是共享的吗？fork，子进程可以访问父进程的空间，这个空间是怎么创建的。

---
网易一面：两个面试官  


网络：
tcp udp的区别

为什么在ip上使用udp？ip+port,校验  
tcp的各个状态了解吗？time_wait这个状态是怎么回事？能不能在time_wait内创建新的连接？  
tcp的算法，流量控制和拥塞控制？  


数据库了解吗？我了解的是etcd + raft

linux : 
查看大文件、看文件的最后10行，head、tail、less、more；tail看末尾、head看头;  
top查看性能；  
删除正在写入的文件会怎么样？   
如何查看文件的详细信息？stat可以看到修改时间  
僵尸进程是怎么回事？  


docker 和 k8s的关系，k8s之前的编排工具？

算法：   
10亿大小的数组文件，1GB多一点的内存控件，如何找到不重复的数据？  
hash方法，分割成多个小文件，因为hash有汇聚的功能，将同样的ip汇集到了一个小文件中；但面试官不认可，比如10亿有5亿是相同的数，那小文件也比较大，   
但我觉的认为没事，因为hash_map计数这样算5亿也只是进行5亿次扫描，控件只占1个，接着面试官问这个时间复杂度是多少，答O(n),就是两次扫描；
面试官又问有没有更快的办法？我想了下说用bitmap试试，2^32/8=512M<1G,1个bit只能表示存在不存在不能表示是否重复，所以用两个bits，第一个1表示存在  
第二个1表示重复，这样最后10的表示只出现一次的，并且512Mx2=1G<1G+恰好满足，应该就是这个办法了。最后我们面试官他还有什么办法没？他说没有了，就是  
这两个算法，bitmap就很快了。   
从这次面试，了解到文件读取i/o速度可能是要考虑的一个问题，另外大数据题目给的数都是要计算的。  

这次面试了网络、db、linux、docker/k8s、算法,但没问os，我得准备点os的相关只是了，另外linux答的并不好，问了很多我不常用的linux命令。网络和算法   
这两罐我觉得我答的还是比较好的。  

问面试官的问题：做什么工作的？围绕游戏的服务端开发，比如加速器、模拟器、游戏部署，技术栈web、mysql、redis等，只用过较小的k8s集群，并不多用；告知   
一个星期内hr会通知结果。

