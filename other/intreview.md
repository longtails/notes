
1亿个手机号码，判断重复

限流算法

5. 秒杀场景设计，应付突然的爆发流量
6. redis的热点key问题
7. redis的更新策略（先操作数据库还是先操作缓存）

9. 一致性哈希
17. 大数据相关，MapReduce
20. Docker的原理

5、RPC原理



zookeeper的实现机制，有缓存，如何存储注册服务的;zookeeper的事物，结点，服务提供方挂了如何告知消费方;

5台服务器如何选出leader(选举算法)

事务隔离级别

主从复制


linux系统日志在哪里看

如何查看网络进程

统计一个整数的二进制表示中bit为1的个数

统计100G的ip文件中出现ip次数最多的100个ip

1000个苹果放10个篮子，怎么放，能让我拿到所有可能的个数

用awk统计一个ip文件中top10

redis做缓存是分布式存的？不同的服务器上存的数据是否重复？guava cache呢？是否重复？不同的机器存的数据不同

4亿个int数，如何找出重复的数（用hash方法，建一个2的32次方个bit的hash数组，每取一个int数，可hash下2的32次方找到它在hash数组中的位置，然后将bit置1表示已存在）

4亿个url，找出其中重复的（考虑内存不够，通过hash算法，将url分配到1000个文件中，不同的文件间肯定就不会重复了，再分别找出重复的）


有1万个数组，每个数组有1000个整数，每个数组都是降序的，从中找出最大的N个数，N<1000


---


1，mysql的三大引擎是啥？

mysql常用的引擎有InnoDB，MyISAM，Memory，默认是InnoDB

InnoDB：磁盘表，支持事务，支持行级锁，B+Tree索引

ps:优点： 具有良好的ACID特性。适用于高并发，更新操作比较多的表。需要使用事务的表。对自动灾难恢复有要求的表。

缺点：读写效率相对MYISAM比较差。占用的磁盘空间比较大。

mysql的4大特性+4种隔离级别：

MyISAM：磁盘表，不支持事务，支持表级锁，B+Tree索引

ps: 优点：占用空间小，处理速度快（相对InnoDB来说）

缺点：不支持事务的完整性和并发性

MEMORY(Heap)：内存表，不支持事务，表级锁，Hash索引，不支持Blob,Text大类型

ps: 优点：速度要求快的，临时数据

缺点：丢失以后，对项目整体没有或者负面影响不大的时候。

2，redis的hash算法用的是啥？

redis应该是使用一致性hash算法---MurmurHash3 算法，具有低碰撞率优点，google改进的版本cityhash也是redis中用到的哈希算法。

现有的主流的大数据系统都是用的 MurmurHash本身或者改进

3，nosql为啥比sql快？

Nosql是非关系型数据库，因为不需要满足关系数据库数据一致性等复杂特性所以速度快；

sql是关系型数据库，功能强大，但是效率上有瓶颈

4，什么是索引为啥nosql没索引？nosql有索引滴

索引分为聚簇索引和非聚簇索引两种，聚簇索引是按照数据存放的物理位置为顺序的，而非聚簇索引就不一样了；聚簇索引能提高多行检索的速度，而非聚簇索引对于单行的检索很快。

聚簇索引：有主键时，根据主键创建聚簇索引；没有主键时，会用一个唯一且不为空的索引列做为主键，成为此表的聚簇索引；如果以上两个都不满足那innodb自己创建一个虚拟的聚集索引

非聚簇索引：非聚簇索引都是辅助索引，像复合索引、前缀索引、唯一索引

5，B+树和B树区别？

B树的非叶子节点存储实际记录的指针，而B+树的叶子节点存储实际记录的指针

B+树的叶子节点通过指针连起来了, 适合扫描区间和顺序查找。


---
一般我们说的分布式系统，P：分区容错性(partition-tolerance)这个是必需的，这是客观存在的。

CAP是无法完全兼顾的，从上面的例子也可以看出，我们可以选AP，也可以选CP。但是，要注意的是：不是说选了AP，C就完全抛弃了。不是说选了CP，A就完全抛弃了！

在CAP理论中，C所表示的一致性是强一致性(每个节点的数据都是最新版本)，其实一致性还有其他级别的：

弱一致性：弱一致性是相对于强一致性而言，它不保证总能得到最新的值；

最终一致性(eventual consistency)：放宽对时间的要求，在被调完成操作响应后的某个时间点，被调多个节点的数据最终达成一致

可用性的值域可以定义成0到100%的连续区间。
![](https://mmbiz.qpic.cn/mmbiz_png/2BGWl1qPxib3LiaOIcUWPt6eU6UmOJhnk08mia6ySoaTdCIs6aoq4pV26ID8iaQSwxauMxHnsrXSMCntaicqWwG4kaw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

所以，CAP理论定义的其实是在容忍网络分区的条件下，“强一致性”和“极致可用性”无法同时达到。


----
- 100Mbps的带宽三个人使用，每人50Mbps，tcp怎么保证速度的
- tcp四次挥手具体的东西
- 进程和线程的区别
- 进程间通信的方法都有什么
- CtrlC可以终止程序，我们是否可以在程序终止的时候做一些别的操作？
- 1000qps单机怎么处理？
- 算法题：一个超级长的数字（有几十位那种），允许进行任意多次的任意两位交换，问你能得到的比他大的最小的数字是多少。


- http状态码501，502，503，504都什么意思

- http和https的区别，为什么项目不能一股脑从http升级为https，有什么需要注意的地方（为什么有的项目不能升级到https）。
- 操作系统进程状态都有什么
- 简述分页分段机制


1、get post的区别 put delete 知道吗 put和post （安全 幂等 长度 状态balabala）

2、innodb为什么用b+树 ？多路树的好处？（说了下比较好控制高度 查询稳定 又说了一下对比b树的优势balabala）

为什么控制高度？（连续读磁盘 效率高）

详细描述b+？（以innodb索引为例给他画了下）


3、tcp为什么三次连接 二次 四次？

4、innodb 数据隔离级别 （四个隔离级别说了下 顺带把脏读 幻读 不可重复度说了下）

7、输入一个url 整个过程 返回结果和渲染是同时的吗 （我从七层分别说了下 又问我返回结果和渲染是同时的吗 ，我说不是 然后扯到http2.0服务端推送上

8、http 1.X 2.0区别 （ 帧 流 推送 头部压缩 安全性等等 ，答得有些乱

9、链表 奇位上升偶位下降 整合成升序链表 （非常友好的题了

10、gaplock mvcc mvcc 用处 （mvcc 结合之前的实习经验说了一下 ，gaplock听过 不过完全没了解）

---

1、LRU实现、插入操作、 描述数据结构如何变化 （说双向链表加哈希，在双向链表上做lru，加哈希表是为了快速定位要移动的节点）   
2、实现哈希表 冲突过多的时候如何解决 （扩容    
3、redis zset 数据结构描述 （之前看过黄建宏的redis设计与实现原理（强推，还有redis实战）,答得还比较轻松，zset是一个字典加跳表 又详细描述（画）了下跳表    
4、大数加法 链表 （也很友好了    
5、zset 除了用跳表 还可以用什么实现 （想了想 可以红黑树，不过说完我就赶紧说 可是红黑树我不会实现，提前认怂，面试官就笑了，他说不用实现别怕）   

如何用红黑树如何实现zrange by score （我第一反应是加个双向链表，但是没有想好到底怎么和红黑树连起来 。后来面试官提示，可以在红黑树里加索引   

1、Tcp: 拔网线之后连接是否存在 为什么 （记得tcp的长连接是有一个类似心跳检测的机制,忘了叫啥了，面试官问我心跳检测是在传输层吗还是应用层 ，我说应用层有心跳检测，但tcp那层也有类似的，后来回来看了下tcp的保活，跟我当时说的差不多，就是名词没想起来）    
2、联合索引：b+树是什么状态 （画了一下，面试官反复问我高度什么的，我说高度没有影响，说了最左前缀 ）    
3、寻找中位数 （ 堆    
4、一棵树 寻找节点中最长路径 （动规    
5、sql语句    
6、 操作系统如何识别tcp连接 （问懵了 答的不好   


socket函数调用过程，分TCP和UDP讲
栈和堆的区别

线程和进程区别


一个进程下多线程能否支持多核

讲讲熟悉的几个设计模式

两道算法题： 
- 链表中倒数第K个节点
- 数组中第K大个数


B树和B+树的区别

B+树插入和删除的过程

B树如何索引

100万数字，快速找到top k


epoll比select/poll优势，为什么快（从底层实现角度讲）


分布式CAP原理

一致性哈希性质 + 一致性哈希算法

TCP UDP区别

k-v数据库有哪些应用场景，对比一下优劣（我简历上有一个k-v数据库的项目）



最后半小时做算法：K best

n个整数的无序数组，找到每个元素后面比它大的第一个数，要求时间复杂度为O(N)


Linux有哪些IO模型吗？5种模型叭叭叭都说一遍

操作系统为什么要分内核态和用户态

为什么要有page cache，操作系统怎么设计的page cache


什么是LRU缓存;怎么设计的LRU缓存，详细说说

数据库中的WAL技术是个什么玩意



实现一个二叉树的持久化方案，可以伪代码，必须用指针

实现二叉树的层序遍历
再按层换行输出一遍


讲讲流量窗口和拥塞控制

TCP状态机（11个状态间的转换）

分布式方面，了解哪些东西

手写最小堆的插入 

求一个乱序数组的逆序对（两个数，它们的index大小和value大小相反就是逆序对）



字符串中每个单词顺序的翻转


跳跃问题，一个数组，每个数字代表当前所能跳跃的最远步数，求能否到达最后一个元素。

---

cookie session介绍一下

乐观锁悲观锁区别说一下



